#!/usr/bin/env python3

from pathlib import Path

from argostrain.dataset import *

SOURCE_PATH = Path('raw_data') / 'source'
TARGET_PATH = Path('raw_data') / 'target'

assert not SOURCE_PATH.is_file() and not TARGET_PATH.is_file()

available_datasets = get_available_datasets()

datasets = list(filter(
        lambda x: x.to_code == 'de' and x.from_code == 'en',
        available_datasets))

for dataset in datasets:
    print(str(dataset))
    source, target = dataset.data()

    with open(SOURCE_PATH, 'a') as s:
        s.writelines(source)

    with open(TARGET_PATH, 'a') as t:
        t.writelines(target)

print('Done')

